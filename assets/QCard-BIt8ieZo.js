import{a as P,r as fn,h as J,b as be,a7 as Bt,g as ut,w as Kt,o as dn,e as Qt,q as Z,l as L,s as gn,a8 as mn,U as _n,a9 as Rn,aa as pn,c as Gt}from"./index-CwKtljQB.js";import{n as wn,o as Jt,p as vn,v as yn,h as Ne}from"./use-router-link-l6nGeD_H.js";const Fe={dark:{type:Boolean,default:null}};function Le(e,t){return P(()=>e.dark===null?t.dark.isActive:e.dark)}function Ms(e,t){const n=fn(null),i=P(()=>e.disable===!0?null:J("span",{ref:n,class:"no-outline",tabindex:-1}));function s(o){const r=t.value;o?.qAvoidFocus!==!0&&(o?.type.indexOf("key")===0?document.activeElement!==r&&r?.contains(document.activeElement)===!0&&r.focus():n.value!==null&&(o===void 0||r?.contains(o.target)===!0)&&n.value.focus())}return{refocusTargetEl:i,refocusTarget:s}}const Es={name:String};function Ts(e={}){return(t,n,i)=>{t[n](J("input",{class:"hidden"+(i||""),...e.value}))}}function Is(e){return P(()=>e.name||e.for)}const Ss={xs:30,sm:35,md:40,lg:50,xl:60};function Ps(e,t,n){let i;function s(){i!==void 0&&(Bt.remove(i),i=void 0)}return be(()=>{e.value===!0&&s()}),{removeFromHistory:s,addToHistory(){i={condition:()=>n.value===!0,handler:t},Bt.add(i)}}}const As={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},bs=["beforeShow","show","beforeHide","hide"];function Ns({showing:e,canShow:t,hideOnRouteChange:n,handleShow:i,handleHide:s,processOnMount:o}){const r=ut(),{props:a,emit:l,proxy:u}=r;let c;function h(m){e.value===!0?g(m):f(m)}function f(m){if(a.disable===!0||m?.qAnchorHandled===!0||t!==void 0&&t(m)!==!0)return;const v=a["onUpdate:modelValue"]!==void 0;v===!0&&(l("update:modelValue",!0),c=m,Qt(()=>{c===m&&(c=void 0)})),(a.modelValue===null||v===!1)&&d(m)}function d(m){e.value!==!0&&(e.value=!0,l("beforeShow",m),i!==void 0?i(m):l("show",m))}function g(m){if(a.disable===!0)return;const v=a["onUpdate:modelValue"]!==void 0;v===!0&&(l("update:modelValue",!1),c=m,Qt(()=>{c===m&&(c=void 0)})),(a.modelValue===null||v===!1)&&_(m)}function _(m){e.value!==!1&&(e.value=!1,l("beforeHide",m),s!==void 0?s(m):l("hide",m))}function R(m){a.disable===!0&&m===!0?a["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):m===!0!==e.value&&(m===!0?d:_)(c)}Kt(()=>a.modelValue,R),n!==void 0&&wn(r)===!0&&Kt(()=>u.$route.fullPath,()=>{n.value===!0&&e.value===!0&&g()}),o===!0&&dn(()=>{R(a.modelValue)});const p={show:f,hide:g,toggle:h};return Object.assign(u,p),p}const Fs=[Element,String],Cn=[null,document,document.body,document.scrollingElement,document.documentElement];function Ls(e,t){let n=vn(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return Cn.includes(n)?window:n}function Mn(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function En(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let et;function xs(){if(et!==void 0)return et;const e=document.createElement("p"),t=document.createElement("div");Jt(e,{width:"100%",height:"200px"}),Jt(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),et=n-i,et}function Tn(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}let H=0,vt,yt,B,Ct=!1,te,ee,ne,x=null;function In(e){Sn(e)&&gn(e)}function Sn(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=mn(e),n=e.shiftKey&&!e.deltaX,i=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),s=n||i?e.deltaY:e.deltaX;for(let o=0;o<t.length;o++){const r=t[o];if(Tn(r,i))return i?s<0&&r.scrollTop===0?!0:s>0&&r.scrollTop+r.clientHeight===r.scrollHeight:s<0&&r.scrollLeft===0?!0:s>0&&r.scrollLeft+r.clientWidth===r.scrollWidth}return!0}function ie(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function nt(e){Ct!==!0&&(Ct=!0,requestAnimationFrame(()=>{Ct=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:i}=document.scrollingElement;(B===void 0||t!==window.innerHeight)&&(B=n-t,document.scrollingElement.scrollTop=i),i>B&&(document.scrollingElement.scrollTop-=Math.ceil((i-B)/8))}))}function se(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:i,overflowX:s}=window.getComputedStyle(t);vt=En(window),yt=Mn(window),te=t.style.left,ee=t.style.top,ne=window.location.href,t.style.left=`-${vt}px`,t.style.top=`-${yt}px`,s!=="hidden"&&(s==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),i!=="hidden"&&(i==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Z.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",nt,L.passiveCapture),window.visualViewport.addEventListener("scroll",nt,L.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",ie,L.passiveCapture))}Z.is.desktop===!0&&Z.is.mac===!0&&window[`${e}EventListener`]("wheel",In,L.notPassive),e==="remove"&&(Z.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",nt,L.passiveCapture),window.visualViewport.removeEventListener("scroll",nt,L.passiveCapture)):window.removeEventListener("scroll",ie,L.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=te,t.style.top=ee,window.location.href===ne&&window.scrollTo(vt,yt),B=void 0)}function Pn(e){let t="add";if(e===!0){if(H++,x!==null){clearTimeout(x),x=null;return}if(H>1)return}else{if(H===0||(H--,H>0))return;if(t="remove",Z.is.ios===!0&&Z.is.nativeMobile===!0){x!==null&&clearTimeout(x),x=setTimeout(()=>{se(t),x=null},100);return}}se(t)}function Gs(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Pn(t))}}}function Os(){let e=null;const t=ut();function n(){e!==null&&(clearTimeout(e),e=null)}return _n(n),be(n),{removeTimeout:n,registerTimeout(i,s){n(),yn(t)===!1&&(e=setTimeout(()=>{e=null,i()},s))}}}function Xs(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Rn.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function zs(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function js(e,t,n){if(n<=t)return t;const i=n-t+1;let s=t+(e-t)%i;return s<t&&(s=i+s),s===0?0:s}const An={PROPERTYCHANGE:"propertychange"},bn={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Nn{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function xe(e,t){return e>t?1:e<t?-1:0}function Us(e,t){return e<t?1:e>t?-1:0}function Ge(e,t,n){if(e[0]<=t)return 0;const i=e.length;if(t<=e[i-1])return i-1;if(typeof n=="function"){for(let s=1;s<i;++s){const o=e[s];if(o===t)return s;if(o<t)return n(t,e[s-1],o)>0?s-1:s}return i-1}if(n>0){for(let s=1;s<i;++s)if(e[s]<t)return s-1;return i-1}if(n<0){for(let s=1;s<i;++s)if(e[s]<=t)return s;return i-1}for(let s=1;s<i;++s){if(e[s]==t)return s;if(e[s]<t)return e[s-1]-t<t-e[s]?s-1:s}return i-1}function Fn(e,t){const n=Array.isArray(t)?t:[t],i=n.length;for(let s=0;s<i;s++)e[e.length]=n[s]}function Ln(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Ys(e,t,n){const i=t||xe;return e.every(function(s,o){if(o===0)return!0;const r=i(e[o-1],s);return!(r>0||r===0)})}function Zs(){return!0}function Vs(){return!1}function Pt(){}function xn(e){let t,n,i;return function(){const s=Array.prototype.slice.call(arguments);return(!n||this!==i||!Ln(s,n))&&(i=this,n=s,t=e.apply(this,arguments)),t}}function $s(e){function t(){let n;try{n=e()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function Oe(e){for(const t in e)delete e[t]}function Gn(e){let t;for(t in e)return!1;return!t}class Xe{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class On extends Nn{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const i=this.listeners_||(this.listeners_={}),s=i[t]||(i[t]=[]);s.includes(n)||s.push(n)}dispatchEvent(t){const n=typeof t=="string",i=n?t:t.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const o=n?new Xe(t):t;o.target||(o.target=this.eventTarget_||this);const r=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in r||(r[i]=0,a[i]=0),++r[i];let l;for(let u=0,c=s.length;u<c;++u)if("handleEvent"in s[u]?l=s[u].handleEvent(o):l=s[u].call(this,o),l===!1||o.propagationStopped){l=!1;break}if(--r[i]===0){let u=a[i];for(delete a[i];u--;)this.removeEventListener(i,Pt);delete r[i]}return l}disposeInternal(){this.listeners_&&Oe(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const i=this.listeners_[t];if(!i)return;const s=i.indexOf(n);s!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[s]=Pt,++this.pendingRemovals_[t]):(i.splice(s,1),i.length===0&&delete this.listeners_[t]))}}function At(e,t,n,i,s){if(s){const r=n;n=function(a){return e.removeEventListener(t,n),r.call(i??this,a)}}else i&&i!==e&&(n=n.bind(i));const o={target:e,type:t,listener:n};return e.addEventListener(t,n),o}function oe(e,t,n,i){return At(e,t,n,i,!0)}function re(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Oe(e))}class ht extends On{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(bn.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const i=t.length,s=new Array(i);for(let o=0;o<i;++o)s[o]=At(this,t[o],n);return s}return At(this,t,n)}onceInternal(t,n){let i;if(Array.isArray(t)){const s=t.length;i=new Array(s);for(let o=0;o<s;++o)i[o]=oe(this,t[o],n)}else i=oe(this,t,n);return n.ol_key=i,i}unInternal(t,n){const i=n.ol_key;if(i)Xn(i);else if(Array.isArray(t))for(let s=0,o=t.length;s<o;++s)this.removeEventListener(t[s],n);else this.removeEventListener(t,n)}}ht.prototype.on;ht.prototype.once;ht.prototype.un;function Xn(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)re(e[t]);else re(e)}function C(){throw new Error("Unimplemented abstract method.")}let zn=0;function jn(e){return e.ol_uid||(e.ol_uid=String(++zn))}class ae extends Xe{constructor(t,n,i){super(t),this.key=n,this.oldValue=i}}class ze extends ht{constructor(t){super(),this.on,this.once,this.un,jn(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new ae(i,t,n)),i=An.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new ae(i,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,i){const s=this.values_||(this.values_={});if(i)s[t]=n;else{const o=s[t];s[t]=n,o!==n&&this.notify(t,o)}}setProperties(t,n){for(const i in t)this.set(i,t[i],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],Gn(this.values_)&&(this.values_=null),n||this.notify(t,i)}}}const A={ANIMATING:0,INTERACTING:1},E={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Y(e,t){if(!e)throw new Error(t)}function T(e,t,n){return Math.min(Math.max(e,t),n)}function Un(e,t,n,i,s,o){const r=s-n,a=o-i;if(r!==0||a!==0){const l=((e-n)*r+(t-i)*a)/(r*r+a*a);l>1?(n=s,i=o):l>0&&(n+=r*l,i+=a*l)}return $(e,t,n,i)}function $(e,t,n,i){const s=n-e,o=i-t;return s*s+o*o}function qs(e){const t=e.length;for(let i=0;i<t;i++){let s=i,o=Math.abs(e[i][i]);for(let a=i+1;a<t;a++){const l=Math.abs(e[a][i]);l>o&&(o=l,s=a)}if(o===0)return null;const r=e[s];e[s]=e[i],e[i]=r;for(let a=i+1;a<t;a++){const l=-e[a][i]/e[i][i];for(let u=i;u<t+1;u++)i==u?e[a][u]=0:e[a][u]+=l*e[i][u]}}const n=new Array(t);for(let i=t-1;i>=0;i--){n[i]=e[i][t]/e[i][i];for(let s=i-1;s>=0;s--)e[s][t]-=e[s][i]*n[i]}return n}function le(e){return e*180/Math.PI}function N(e){return e*Math.PI/180}function ce(e,t){const n=e%t;return n*t<0?n+t:n}function Yn(e,t,n){return e+n*(t-e)}function je(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function Ws(e,t){return Math.floor(je(e,t))}function Ds(e,t){return Math.ceil(je(e,t))}function bt(e,t,n){if(e>=t&&e<n)return e;const i=n-t;return((e-t)%i+i)%i+t}function ue(e,t,n){return(function(i,s,o,r,a){if(!i)return;if(!s&&!t)return i;const l=t?0:o[0]*s,u=t?0:o[1]*s,c=a?a[0]:0,h=a?a[1]:0;let f=e[0]+l/2+c,d=e[2]-l/2+c,g=e[1]+u/2+h,_=e[3]-u/2+h;f>d&&(f=(d+f)/2,d=f),g>_&&(g=(_+g)/2,_=g);let R=T(i[0],f,d),p=T(i[1],g,_);if(r&&n&&s){const m=30*s;R+=-m*Math.log(1+Math.max(0,f-i[0])/m)+m*Math.log(1+Math.max(0,i[0]-d)/m),p+=-m*Math.log(1+Math.max(0,g-i[1])/m)+m*Math.log(1+Math.max(0,i[1]-_)/m)}return[R,p]})}function Zn(e){return e}const w={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function ks(e){const t=ft();for(let n=0,i=e.length;n<i;++n)Wn(t,e[n]);return t}function Vn(e,t,n){const i=Math.min.apply(null,e),s=Math.min.apply(null,t),o=Math.max.apply(null,e),r=Math.max.apply(null,t);return dt(i,s,o,r,n)}function Hs(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function Ue(e,t,n){let i,s;return t<e[0]?i=e[0]-t:e[2]<t?i=t-e[2]:i=0,n<e[1]?s=e[1]-n:e[3]<n?s=n-e[3]:s=0,i*i+s*s}function Bs(e,t){return Ye(e,t[0],t[1])}function Ye(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function he(e,t){const n=e[0],i=e[1],s=e[2],o=e[3],r=t[0],a=t[1];let l=w.UNKNOWN;return r<n?l=l|w.LEFT:r>s&&(l=l|w.RIGHT),a<i?l=l|w.BELOW:a>o&&(l=l|w.ABOVE),l===w.UNKNOWN&&(l=w.INTERSECTING),l}function ft(){return[1/0,1/0,-1/0,-1/0]}function dt(e,t,n,i,s){return s?(s[0]=e,s[1]=t,s[2]=n,s[3]=i,s):[e,t,n,i]}function gt(e){return dt(1/0,1/0,-1/0,-1/0,e)}function $n(e,t){const n=e[0],i=e[1];return dt(n,i,n,i,t)}function qn(e,t,n,i,s){const o=gt(s);return Ze(o,e,t,n,i)}function Ks(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function Qs(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function Wn(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Ze(e,t,n,i,s){for(;n<i;n+=s)Dn(e,t[n],t[n+1]);return e}function Dn(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function kn(e,t){let n;return n=t(Ve(e)),n||(n=t($e(e)),n)||(n=t(We(e)),n)||(n=t(qe(e)),n)?n:!1}function Js(e){let t=0;return mt(e)||(t=I(e)*W(e)),t}function Ve(e){return[e[0],e[1]]}function $e(e){return[e[2],e[1]]}function K(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function to(e,t){let n;if(t==="bottom-left")n=Ve(e);else if(t==="bottom-right")n=$e(e);else if(t==="top-left")n=qe(e);else if(t==="top-right")n=We(e);else throw new Error("Invalid corner");return n}function Hn(e,t,n,i,s){const[o,r,a,l,u,c,h,f]=Bn(e,t,n,i);return dt(Math.min(o,a,u,h),Math.min(r,l,c,f),Math.max(o,a,u,h),Math.max(r,l,c,f),s)}function Bn(e,t,n,i){const s=t*i[0]/2,o=t*i[1]/2,r=Math.cos(n),a=Math.sin(n),l=s*r,u=s*a,c=o*r,h=o*a,f=e[0],d=e[1];return[f-l+h,d-u-c,f-l-h,d-u+c,f+l-h,d+u+c,f+l+h,d+u-c,f-l+h,d-u-c]}function W(e){return e[3]-e[1]}function eo(e,t,n){const i=n||ft();return De(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):gt(i),i}function qe(e){return[e[0],e[3]]}function We(e){return[e[2],e[3]]}function I(e){return e[2]-e[0]}function De(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function mt(e){return e[2]<e[0]||e[3]<e[1]}function Kn(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function Qn(e,t,n){let i=!1;const s=he(e,t),o=he(e,n);if(s===w.INTERSECTING||o===w.INTERSECTING)i=!0;else{const r=e[0],a=e[1],l=e[2],u=e[3],c=t[0],h=t[1],f=n[0],d=n[1],g=(d-h)/(f-c);let _,R;o&w.ABOVE&&!(s&w.ABOVE)&&(_=f-(d-u)/g,i=_>=r&&_<=l),!i&&o&w.RIGHT&&!(s&w.RIGHT)&&(R=d-(f-l)*g,i=R>=a&&R<=u),!i&&o&w.BELOW&&!(s&w.BELOW)&&(_=f-(d-a)/g,i=_>=r&&_<=l),!i&&o&w.LEFT&&!(s&w.LEFT)&&(R=d-(f-r)*g,i=R>=a&&R<=u)}return i}function no(e,t,n,i){if(mt(e))return gt(n);let s=[];s=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]],t(s,s,2);const o=[],r=[];for(let a=0,l=s.length;a<l;a+=2)o.push(s[a]),r.push(s[a+1]);return Vn(o,r,n)}function Jn(e,t){const n=t.getExtent(),i=K(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const s=I(n),r=Math.floor((i[0]-n[0])/s)*s;e[0]-=r,e[2]-=r}return e}function io(e,t,n){if(t.canWrapX()){const i=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[i[0],e[1],i[2],e[3]]];Jn(e,t);const s=I(i);if(I(e)>s,e[0]<i[0])return[[e[0]+s,e[1],i[2],e[3]],[i[0],e[1],e[2],e[3]]];if(e[2]>i[2])return[[e[0],e[1],i[2],e[3]],[i[0],e[1],e[2]-s,e[3]]]}return[e]}function ti(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function rt(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function ei(e,t){const n=Math.cos(t),i=Math.sin(t),s=e[0]*n-e[1]*i,o=e[1]*n+e[0]*i;return e[0]=s,e[1]=o,e}function so(e,t){return e[0]*=t,e[1]*=t,e}function oo(e,t){if(t.canWrapX()){const n=I(t.getExtent()),i=ke(e,t,n);i&&(e[0]-=i*n)}return e}function ke(e,t,n){const i=t.getExtent();let s=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||I(i),s=Math.floor((e[0]-i[0])/n)),s}function ni(e){return Math.pow(e,3)}function ii(e){return 1-ni(1-e)}function si(e){return 3*e*e-2*e*e*e}function ro(e){return e}const oi=63710088e-1;function fe(e,t,n){n=n||oi;const i=N(e[1]),s=N(t[1]),o=(s-i)/2,r=N(t[0]-e[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(r)*Math.sin(r)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function ri(...e){console.warn(...e)}function ao(...e){console.error(...e)}const ai={9001:"m",9002:"ft",9003:"us-ft",9101:"radians",9102:"degrees"};function lo(e){return ai[e]}const He={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Ot{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||He[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const tt=6378137,V=Math.PI*tt,li=[-V,-V,V,V],ci=[-180,-85,180,85],it=tt*Math.log(Math.tan(Math.PI/2));class j extends Ot{constructor(t){super({code:t,units:"m",extent:li,global:!0,worldExtent:ci,getPointResolution:function(n,i){return n/Math.cosh(i[1]/tt)}})}}const de=[new j("EPSG:3857"),new j("EPSG:102100"),new j("EPSG:102113"),new j("EPSG:900913"),new j("http://www.opengis.net/def/crs/EPSG/0/3857"),new j("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ui(e,t,n,i){const s=e.length;n=n>1?n:2,i=i??n,t===void 0&&(n>2?t=e.slice():t=new Array(s));for(let o=0;o<s;o+=i){t[o]=V*e[o]/180;let r=tt*Math.log(Math.tan(Math.PI*(+e[o+1]+90)/360));r>it?r=it:r<-it&&(r=-it),t[o+1]=r}return t}function hi(e,t,n,i){const s=e.length;n=n>1?n:2,i=i??n,t===void 0&&(n>2?t=e.slice():t=new Array(s));for(let o=0;o<s;o+=i)t[o]=180*e[o]/V,t[o+1]=360*Math.atan(Math.exp(e[o+1]/tt))/Math.PI-90;return t}const fi=6378137,ge=[-180,-90,180,90],di=Math.PI*fi/180;class G extends Ot{constructor(t,n){super({code:t,units:"degrees",extent:ge,axisOrientation:n,global:!0,metersPerUnit:di,worldExtent:ge})}}const me=[new G("CRS:84"),new G("EPSG:4326","neu"),new G("urn:ogc:def:crs:OGC:1.3:CRS84"),new G("urn:ogc:def:crs:OGC:2:84"),new G("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new G("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new G("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Nt={};function gi(e){return Nt[e]||Nt[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function mi(e,t){Nt[e]=t}let q={};function z(e,t,n){const i=e.getCode(),s=t.getCode();i in q||(q[i]={}),q[i][s]=n}function Mt(e,t){return e in q&&t in q[e]?q[e][t]:null}const at=.9996,M=.00669438,_t=M*M,Rt=_t*M,O=M/(1-M),_e=Math.sqrt(1-M),D=(1-_e)/(1+_e),Be=D*D,Xt=Be*D,zt=Xt*D,Ke=zt*D,Qe=1-M/4-3*_t/64-5*Rt/256,_i=3*M/8+3*_t/32+45*Rt/1024,Ri=15*_t/256+45*Rt/1024,pi=35*Rt/3072,wi=3/2*D-27/32*Xt+269/512*Ke,vi=21/16*Be-55/32*zt,yi=151/96*Xt-417/128*Ke,Ci=1097/512*zt,lt=6378137;function Mi(e,t,n){const i=e-5e5,r=(n.north?t:t-1e7)/at/(lt*Qe),a=r+wi*Math.sin(2*r)+vi*Math.sin(4*r)+yi*Math.sin(6*r)+Ci*Math.sin(8*r),l=Math.sin(a),u=l*l,c=Math.cos(a),h=l/c,f=h*h,d=f*f,g=1-M*u,_=Math.sqrt(1-M*u),R=lt/_,p=(1-M)/g,m=O*c**2,v=m*m,y=i/(R*at),F=y*y,k=F*y,kt=k*y,Ht=kt*y,un=Ht*y,hn=a-h/p*(F/2-kt/24*(5+3*f+10*m-4*v-9*O))+un/720*(61+90*f+298*m+45*d-252*O-3*v);let wt=(y-k/6*(1+2*f+m)+Ht/120*(5-2*m+28*f-3*v+8*O+24*d))/c;return wt=bt(wt+N(Je(n.number)),-Math.PI,Math.PI),[le(wt),le(hn)]}const Re=-80,pe=84,Ei=-180,Ti=180;function Ii(e,t,n){e=bt(e,Ei,Ti),t<Re?t=Re:t>pe&&(t=pe);const i=N(t),s=Math.sin(i),o=Math.cos(i),r=s/o,a=r*r,l=a*a,u=N(e),c=Je(n.number),h=N(c),f=lt/Math.sqrt(1-M*s**2),d=O*o**2,g=o*bt(u-h,-Math.PI,Math.PI),_=g*g,R=_*g,p=R*g,m=p*g,v=m*g,y=lt*(Qe*i-_i*Math.sin(2*i)+Ri*Math.sin(4*i)-pi*Math.sin(6*i)),F=at*f*(g+R/6*(1-a+d)+m/120*(5-18*a+l+72*d-58*O))+5e5;let k=at*(y+f*r*(_/2+p/24*(5-a+9*d+4*d**2)+v/720*(61-58*a+l+600*d-330*O)));return n.north||(k+=1e7),[F,k]}function Je(e){return(e-1)*6-180+3}const Si=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function tn(e){let t=0;for(const s of Si){const o=e.match(s);if(o){t=parseInt(o[1]);break}}if(!t)return null;let n=0,i=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(i=!0,n=t-32600),n?{number:n,north:i}:null}function we(e,t){return function(n,i,s,o){const r=n.length;s=s>1?s:2,o=o??s,i||(s>2?i=n.slice():i=new Array(r));for(let a=0;a<r;a+=o){const l=n[a],u=n[a+1],c=e(l,u,t);i[a]=c[0],i[a+1]=c[1]}return i}}function Pi(e){return tn(e)?new Ot({code:e,units:"m"}):null}function Ai(e){const t=tn(e.getCode());return t?{forward:we(Ii,t),inverse:we(Mi,t)}:null}const bi=[Ai],Ni=[Pi];let Ft=!0;function Fi(e){Ft=!1}function jt(e,t){if(t!==void 0){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];t=t}else t=e.slice();return t}function Lt(e){mi(e.getCode(),e),z(e,e,jt)}function Li(e){e.forEach(Lt)}function S(e){if(typeof e!="string")return e;const t=gi(e);if(t)return t;for(const n of Ni){const i=n(e);if(i)return i}return null}function co(e,t,n,i){e=S(e);let s;const o=e.getPointResolutionFunc();if(o)s=o(t,n);else{const r=e.getUnits();if(r=="degrees"&&!i||i=="degrees")s=t;else{const a=Yt(e,S("EPSG:4326"));if(!a&&r!=="degrees")s=t*e.getMetersPerUnit();else{let u=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];u=a(u,u,2);const c=fe(u.slice(0,2),u.slice(2,4)),h=fe(u.slice(4,6),u.slice(6,8));s=(c+h)/2}const l=e.getMetersPerUnit();l!==void 0&&(s/=l)}}return s}function ve(e){Li(e),e.forEach(function(t){e.forEach(function(n){t!==n&&z(t,n,jt)})})}function xi(e,t,n,i){e.forEach(function(s){t.forEach(function(o){z(s,o,n),z(o,s,i)})})}function Ut(e,t){return e?typeof e=="string"?S(e):e:S(t)}function ye(e){return(function(t,n,i,s){const o=t.length;i=i!==void 0?i:2,s=s??i,n=n!==void 0?n:new Array(o);for(let r=0;r<o;r+=s){const a=e(t.slice(r,r+i)),l=a.length;for(let u=0,c=s;u<c;++u)n[r+u]=u>=l?t[r+u]:a[u]}return n})}function uo(e,t,n,i){const s=S(e),o=S(t);z(s,o,ye(n)),z(o,s,ye(i))}function ho(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||Yt(e,t)===jt)&&n}function Yt(e,t){const n=e.getCode(),i=t.getCode();let s=Mt(n,i);if(s)return s;let o=null,r=null;for(const l of bi)o||(o=l(e)),r||(r=l(t));if(!o&&!r)return null;const a="EPSG:4326";if(r)if(o)s=Et(o.inverse,r.forward);else{const l=Mt(n,a);l&&(s=Et(l,r.forward))}else{const l=Mt(a,i);l&&(s=Et(o.inverse,l))}return s&&(Lt(e),Lt(t),z(e,t,s)),s}function Et(e,t){return function(n,i,s,o){return i=e(n,i,s,o),t(i,i,s,o)}}function xt(e,t){const n=S(e),i=S(t);return Yt(n,i)}function fo(e,t,n){const i=xt(t,n);if(!i){const s=S(t).getCode(),o=S(n).getCode();throw new Error(`No transform available between ${s} and ${o}`)}return i(e,void 0,e.length)}function Ce(e,t){return e}function b(e,t){return Ft&&!rt(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(Ft=!1,ri("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function Gi(e,t){return e}function st(e,t){return e}function go(e,t,n){return function(i){let s,o;if(e.canWrapX()){const r=e.getExtent(),a=I(r);i=i.slice(0),o=ke(i,e,a),o&&(i[0]=i[0]-o*a),i[0]=T(i[0],r[0],r[2]),i[1]=T(i[1],r[1],r[3]),s=n(i)}else s=n(i);return o&&t.canWrapX()&&(s[0]+=o*I(t.getExtent())),s}}function Oi(){ve(de),ve(me),xi(me,de,ui,hi)}Oi();const Zt=new Array(6);function Xi(){return[1,0,0,1,0,0]}function mo(e){return pt(e,1,0,0,1,0,0)}function Vt(e,t){const n=e[0],i=e[1],s=e[2],o=e[3],r=e[4],a=e[5],l=t[0],u=t[1],c=t[2],h=t[3],f=t[4],d=t[5];return e[0]=n*l+s*u,e[1]=i*l+o*u,e[2]=n*c+s*h,e[3]=i*c+o*h,e[4]=n*f+s*d+r,e[5]=i*f+o*d+a,e}function pt(e,t,n,i,s,o,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=s,e[4]=o,e[5]=r,e}function _o(e,t){const n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function Ro(e,t){const n=Math.cos(t),i=Math.sin(t);return Vt(e,pt(Zt,n,i,-i,n,0,0))}function po(e,t,n){return Vt(e,pt(Zt,t,0,0,n,0,0))}function wo(e,t,n){return Vt(e,pt(Zt,1,0,0,1,t,n))}function zi(e,t,n,i,s,o,r,a){const l=Math.sin(o),u=Math.cos(o);return e[0]=i*u,e[1]=s*l,e[2]=-i*l,e[3]=s*u,e[4]=r*i*u-a*i*l+t,e[5]=r*s*l+a*s*u+n,e}function vo(e,t){const n=ji(t);Y(n!==0,"Transformation matrix cannot be inverted");const i=t[0],s=t[1],o=t[2],r=t[3],a=t[4],l=t[5];return e[0]=r/n,e[1]=-s/n,e[2]=-o/n,e[3]=i/n,e[4]=(o*l-r*a)/n,e[5]=-(i*l-s*a)/n,e}function ji(e){return e[0]*e[3]-e[1]*e[2]}function yo(e){return e.substring(7,e.length-1).split(",").map(parseFloat)}function Ui(e,t,n,i,s,o,r){o=o||[],r=r||2;let a=0;for(let l=t;l<n;l+=i){const u=e[l],c=e[l+1];o[a++]=s[0]*u+s[2]*c+s[4],o[a++]=s[1]*u+s[3]*c+s[5];for(let h=2;h<r;h++)o[a++]=e[l+h]}return o&&o.length!=a&&(o.length=a),o}function Yi(e,t,n,i,s,o,r){r=r||[];const a=Math.cos(s),l=Math.sin(s),u=o[0],c=o[1];let h=0;for(let f=t;f<n;f+=i){const d=e[f]-u,g=e[f+1]-c;r[h++]=u+d*a-g*l,r[h++]=c+d*l+g*a;for(let _=f+2;_<f+i;++_)r[h++]=e[_]}return r&&r.length!=h&&(r.length=h),r}function Zi(e,t,n,i,s,o,r,a){a=a||[];const l=r[0],u=r[1];let c=0;for(let h=t;h<n;h+=i){const f=e[h]-l,d=e[h+1]-u;a[c++]=l+s*f,a[c++]=u+o*d;for(let g=h+2;g<h+i;++g)a[c++]=e[g]}return a&&a.length!=c&&(a.length=c),a}function Vi(e,t,n,i,s,o,r){r=r||[];let a=0;for(let l=t;l<n;l+=i){r[a++]=e[l]+s,r[a++]=e[l+1]+o;for(let u=l+2;u<l+i;++u)r[a++]=e[u]}return r&&r.length!=a&&(r.length=a),r}const Me=Xi(),$i=[NaN,NaN];class qi extends ze{constructor(){super(),this.extent_=ft(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=xn((t,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return C()}closestPointXY(t,n,i,s){return C()}containsXY(t,n){return this.closestPointXY(t,n,$i,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return C()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&gt(n),this.extentRevision_=this.getRevision()}return Kn(this.extent_,t)}rotate(t,n){C()}scale(t,n,i){C()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return C()}getType(){return C()}applyTransform(t){C()}intersectsExtent(t){return C()}translate(t,n){C()}transform(t,n){const i=S(t),s=i.getUnits()=="tile-pixels"?function(o,r,a){const l=i.getExtent(),u=i.getWorldExtent(),c=W(u)/W(l);zi(Me,u[0],u[3],c,-c,0,0,0);const h=Ui(o,0,o.length,a,Me,r),f=xt(i,n);return f?f(h,h,a):h}:xt(i,n);return this.applyTransform(s),this}}class $t extends qi{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return qn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return C()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=Ee(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){C()}setLayout(t,n,i){let s;if(t)s=Ee(t);else{for(let o=0;o<i;++o){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}s=n.length,t=Wi(s)}this.layout=t,this.stride=s}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();Yi(i,0,i.length,s,t,n,i),this.changed()}}scale(t,n,i){n===void 0&&(n=t),i||(i=K(this.getExtent()));const s=this.getFlatCoordinates();if(s){const o=this.getStride();Zi(s,0,s.length,o,t,n,i,s),this.changed()}}translate(t,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();Vi(i,0,i.length,s,t,n,i),this.changed()}}}function Wi(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function Ee(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}function en(e,t,n,i){let s=0;const o=e[n-i],r=e[n-i+1];let a=0,l=0;for(;t<n;t+=i){const u=e[t]-o,c=e[t+1]-r;s+=l*u-a*c,a=u,l=c}return s/2}function Di(e,t,n,i){let s=0;for(let o=0,r=n.length;o<r;++o){const a=n[o];s+=en(e,t,a,i),t=a}return s}function Te(e,t,n,i,s,o,r){const a=e[t],l=e[t+1],u=e[n]-a,c=e[n+1]-l;let h;if(u===0&&c===0)h=t;else{const f=((s-a)*u+(o-l)*c)/(u*u+c*c);if(f>1)h=n;else if(f>0){for(let d=0;d<i;++d)r[d]=Yn(e[t+d],e[n+d],f);r.length=i;return}else h=t}for(let f=0;f<i;++f)r[f]=e[h+f];r.length=i}function nn(e,t,n,i,s){let o=e[t],r=e[t+1];for(t+=i;t<n;t+=i){const a=e[t],l=e[t+1],u=$(o,r,a,l);u>s&&(s=u),o=a,r=l}return s}function ki(e,t,n,i,s){for(let o=0,r=n.length;o<r;++o){const a=n[o];s=nn(e,t,a,i,s),t=a}return s}function sn(e,t,n,i,s,o,r,a,l,u,c){if(t==n)return u;let h,f;if(s===0){if(f=$(r,a,e[t],e[t+1]),f<u){for(h=0;h<i;++h)l[h]=e[t+h];return l.length=i,f}return u}c=c||[NaN,NaN];let d=t+i;for(;d<n;)if(Te(e,d-i,d,i,r,a,c),f=$(r,a,c[0],c[1]),f<u){for(u=f,h=0;h<i;++h)l[h]=c[h];l.length=i,d+=i}else d+=i*Math.max((Math.sqrt(f)-Math.sqrt(u))/s|0,1);if(Te(e,n-i,t,i,r,a,c),f=$(r,a,c[0],c[1]),f<u){for(u=f,h=0;h<i;++h)l[h]=c[h];l.length=i}return u}function Hi(e,t,n,i,s,o,r,a,l,u,c){c=c||[NaN,NaN];for(let h=0,f=n.length;h<f;++h){const d=n[h];u=sn(e,t,d,i,s,o,r,a,l,u,c),t=d}return u}function Bi(e,t,n,i){for(let s=0,o=n.length;s<o;++s)e[t++]=n[s];return t}function on(e,t,n,i){for(let s=0,o=n.length;s<o;++s){const r=n[s];for(let a=0;a<i;++a)e[t++]=r[a]}return t}function Ki(e,t,n,i,s){s=s||[];let o=0;for(let r=0,a=n.length;r<a;++r){const l=on(e,t,n[r],i);s[o++]=l,t=l}return s.length=o,s}function rn(e,t,n,i,s){s=s!==void 0?s:[];let o=0;for(let r=t;r<n;r+=i)s[o++]=e.slice(r,r+i);return s.length=o,s}function Qi(e,t,n,i,s){s=s!==void 0?s:[];let o=0;for(let r=0,a=n.length;r<a;++r){const l=n[r];s[o++]=rn(e,t,l,i,s[o]),t=l}return s.length=o,s}function Ji(e,t,n,i,s,o,r){const a=(n-t)/i;if(a<3){for(;t<n;t+=i)o[r++]=e[t],o[r++]=e[t+1];return r}const l=new Array(a);l[0]=1,l[a-1]=1;const u=[t,n-i];let c=0;for(;u.length>0;){const h=u.pop(),f=u.pop();let d=0;const g=e[f],_=e[f+1],R=e[h],p=e[h+1];for(let m=f+i;m<h;m+=i){const v=e[m],y=e[m+1],F=Un(v,y,g,_,R,p);F>d&&(c=m,d=F)}d>s&&(l[(c-t)/i]=1,f+i<c&&u.push(f,c),c+i<h&&u.push(c,h))}for(let h=0;h<a;++h)l[h]&&(o[r++]=e[t+h*i],o[r++]=e[t+h*i+1]);return r}function U(e,t){return t*Math.round(e/t)}function ts(e,t,n,i,s,o,r){if(t==n)return r;let a=U(e[t],s),l=U(e[t+1],s);t+=i,o[r++]=a,o[r++]=l;let u,c;do if(u=U(e[t],s),c=U(e[t+1],s),t+=i,t==n)return o[r++]=u,o[r++]=c,r;while(u==a&&c==l);for(;t<n;){const h=U(e[t],s),f=U(e[t+1],s);if(t+=i,h==u&&f==c)continue;const d=u-a,g=c-l,_=h-a,R=f-l;if(d*R==g*_&&(d<0&&_<d||d==_||d>0&&_>d)&&(g<0&&R<g||g==R||g>0&&R>g)){u=h,c=f;continue}o[r++]=u,o[r++]=c,a=u,l=c,u=h,c=f}return o[r++]=u,o[r++]=c,r}function es(e,t,n,i,s,o,r,a){for(let l=0,u=n.length;l<u;++l){const c=n[l];r=ts(e,t,c,i,s,o,r),a.push(r),t=c}return r}class Q extends $t{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new Q(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,i,s){return s<Ue(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(nn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),sn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,i,s))}getArea(){return en(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return rn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=Ji(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new Q(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=on(this.flatCoordinates,0,t,this.stride),this.changed()}}class qt extends $t{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new qt(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,s){const o=this.flatCoordinates,r=$(t,n,o[0],o[1]);if(r<s){const a=this.stride;for(let l=0;l<a;++l)i[l]=o[l];return i.length=a,r}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return $n(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return Ye(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Bi(this.flatCoordinates,0,t,this.stride),this.changed()}}function ns(e,t,n,i,s){return!kn(s,function(r){return!X(e,t,n,i,r[0],r[1])})}function X(e,t,n,i,s,o){let r=0,a=e[n-i],l=e[n-i+1];for(;t<n;t+=i){const u=e[t],c=e[t+1];l<=o?c>o&&(u-a)*(o-l)-(s-a)*(c-l)>0&&r++:c<=o&&(u-a)*(o-l)-(s-a)*(c-l)<0&&r--,a=u,l=c}return r!==0}function an(e,t,n,i,s,o){if(n.length===0||!X(e,t,n[0],i,s,o))return!1;for(let r=1,a=n.length;r<a;++r)if(X(e,n[r-1],n[r],i,s,o))return!1;return!0}function is(e,t,n,i,s,o,r){let a,l,u,c,h,f,d;const g=s[o+1],_=[];for(let m=0,v=n.length;m<v;++m){const y=n[m];for(c=e[y-i],f=e[y-i+1],a=t;a<y;a+=i)h=e[a],d=e[a+1],(g<=f&&d<=g||f<=g&&g<=d)&&(u=(g-f)/(d-f)*(h-c)+c,_.push(u)),c=h,f=d}let R=NaN,p=-1/0;for(_.sort(xe),c=_[0],a=1,l=_.length;a<l;++a){h=_[a];const m=Math.abs(h-c);m>p&&(u=(c+h)/2,an(e,t,n,i,u,g)&&(R=u,p=m)),c=h}return isNaN(R)&&(R=s[o]),[R,g,p]}function ss(e,t,n,i,s){let o;for(t+=i;t<n;t+=i)if(o=s(e.slice(t-i,t),e.slice(t,t+i)),o)return o;return!1}function ln(e,t,n,i,s,o){return o=o??Ze(ft(),e,t,n,i),De(s,o)?o[0]>=s[0]&&o[2]<=s[2]||o[1]>=s[1]&&o[3]<=s[3]?!0:ss(e,t,n,i,function(r,a){return Qn(s,r,a)}):!1}function os(e,t,n,i,s){return!!(ln(e,t,n,i,s)||X(e,t,n,i,s[0],s[1])||X(e,t,n,i,s[0],s[3])||X(e,t,n,i,s[2],s[1])||X(e,t,n,i,s[2],s[3]))}function rs(e,t,n,i,s){if(!os(e,t,n[0],i,s))return!1;if(n.length===1)return!0;for(let o=1,r=n.length;o<r;++o)if(ns(e,n[o-1],n[o],i,s)&&!ln(e,n[o-1],n[o],i,s))return!1;return!0}function as(e,t,n,i){for(;t<n-i;){for(let s=0;s<i;++s){const o=e[t+s];e[t+s]=e[n-i+s],e[n-i+s]=o}t+=i,n-=i}}function cn(e,t,n,i){let s=0,o=e[n-i],r=e[n-i+1];for(;t<n;t+=i){const a=e[t],l=e[t+1];s+=(a-o)*(l+r),o=a,r=l}return s===0?void 0:s>0}function ls(e,t,n,i,s){s=s!==void 0?s:!1;for(let o=0,r=n.length;o<r;++o){const a=n[o],l=cn(e,t,a,i);if(o===0){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;t=a}return!0}function Ie(e,t,n,i,s){s=s!==void 0?s:!1;for(let o=0,r=n.length;o<r;++o){const a=n[o],l=cn(e,t,a,i);(o===0?s&&l||!s&&!l:s&&!l||!s&&l)&&as(e,t,a,i),t=a}return t}class ct extends $t{constructor(t,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,t),this.ends_=i):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?Fn(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new ct(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,i,s){return s<Ue(this.getExtent(),t,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ki(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Hi(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,i,s))}containsXY(t,n){return an(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return Di(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Ie(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Qi(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=K(this.getExtent());this.flatInteriorPoint_=is(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new qt(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Q(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,i=this.ends_,s=[];let o=0;for(let r=0,a=i.length;r<a;++r){const l=i[r],u=new Q(n.slice(o,l),t);s.push(u),o=l}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;ls(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Ie(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],i=[];return n.length=es(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new ct(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return rs(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Ki(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function Se(e){if(mt(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],n=e[1],i=e[2],s=e[3],o=[t,n,t,s,i,s,i,n,t,n];return new ct(o,"XY",[o.length])}function Wt(e,t,n,i){const s=I(t)/n[0],o=W(t)/n[1];return i?Math.min(e,Math.max(s,o)):Math.min(e,Math.min(s,o))}function Dt(e,t,n){let i=Math.min(e,t);const s=50;return i*=Math.log(1+s*Math.max(0,e/t-1))/s+1,n&&(i=Math.max(i,n),i/=Math.log(1+s*Math.max(0,n/e-1))/s+1),T(i,n/2,t*2)}function cs(e,t,n,i){return t=t!==void 0?t:!0,(function(s,o,r,a){if(s!==void 0){const l=e[0],u=e[e.length-1],c=n?Wt(l,n,r,i):l;if(a)return t?Dt(s,c,u):T(s,u,c);const h=Math.min(c,s),f=Math.floor(Ge(e,h,o));return e[f]>c&&f<e.length-1?e[f+1]:e[f]}})}function us(e,t,n,i,s,o){return i=i!==void 0?i:!0,n=n!==void 0?n:0,(function(r,a,l,u){if(r!==void 0){const c=s?Wt(t,s,l,o):t;if(u)return i?Dt(r,c,n):T(r,n,c);const h=1e-9,f=Math.ceil(Math.log(t/c)/Math.log(e)-h),d=-a*(.5-h)+.5,g=Math.min(c,r),_=Math.floor(Math.log(t/g)/Math.log(e)+d),R=Math.max(f,_),p=t/Math.pow(e,R);return T(p,n,c)}})}function Pe(e,t,n,i,s){return n=n!==void 0?n:!0,(function(o,r,a,l){if(o!==void 0){const u=i?Wt(e,i,a,s):e;return!n||!l?T(o,t,u):Dt(o,u,t)}})}function hs(e){if(e!==void 0)return 0}function Ae(e){if(e!==void 0)return e}function fs(e){const t=2*Math.PI/e;return(function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n})}function ds(e){const t=N(5);return(function(n,i){return i||n===void 0?n:Math.abs(n)<=t?0:n})}const Co=42,gs=256,Tt=0;class ms extends ze{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Ut(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&Fi(),t.center&&(t.center=b(t.center,this.projection_)),t.extent&&(t.extent=st(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const a in E)delete n[a];this.setProperties(n,!0);const i=Rs(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;const s=_s(t),o=i.constraint,r=ps(t);this.constraints_={center:s,resolution:o,rotation:r},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const i=this.getCenterInternal();if(i){const s=t||[0,0,0,0];n=n||[0,0,0,0];const o=this.getResolution(),r=o/2*(s[3]-n[3]+n[1]-s[1]),a=o/2*(s[0]-n[0]+n[2]-s[2]);this.setCenterInternal([i[0]+r,i[1]-a])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let s=arguments[i];s.center&&(s=Object.assign({},s),s.center=b(s.center,this.getProjection())),s.anchor&&(s=Object.assign({},s),s.anchor=b(s.anchor,this.getProjection())),n[i]=s}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let s=0;for(;s<n&&!this.isDef();++s){const c=arguments[s];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(s===n){i&&ot(i,!0);return}let o=Date.now(),r=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const u=[];for(;s<n;++s){const c=arguments[s],h={start:o,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||si,callback:i};if(c.center&&(h.sourceCenter=r,h.targetCenter=c.center.slice(),r=h.targetCenter),c.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),c.rotation!==void 0){h.sourceRotation=l;const f=ce(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+f,l=h.targetRotation}ws(h)?h.complete=!0:o+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(A.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[A.ANIMATING]>0}getInteracting(){return this.hints_[A.INTERACTING]>0}cancelAnimations(){this.setHint(A.ANIMATING,-this.hints_[A.ANIMATING]);let t;for(let n=0,i=this.animations_.length;n<i;++n){const s=this.animations_[n];if(s[0].callback&&ot(s[0].callback,!1),!t)for(let o=0,r=s.length;o<r;++o){const a=s[o];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const s=this.animations_[i];let o=!0;for(let r=0,a=s.length;r<a;++r){const l=s[r];if(l.complete)continue;const u=t-l.start;let c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):o=!1;const h=l.easing(c);if(l.sourceCenter){const f=l.sourceCenter[0],d=l.sourceCenter[1],g=l.targetCenter[0],_=l.targetCenter[1];this.nextCenter_=l.targetCenter;const R=f+h*(g-f),p=d+h*(_-d);this.targetCenter_=[R,p]}if(l.sourceResolution&&l.targetResolution){const f=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){const d=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(f,0,d,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const f=h===1?ce(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){const d=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(d,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(o){this.animations_[i]=null,this.setHint(A.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const r=s[0].callback;r&&ot(r,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let i;const s=this.getCenterInternal();return s!==void 0&&(i=[s[0]-n[0],s[1]-n[1]],ei(i,t-this.getRotation()),ti(i,n)),i}calculateCenterZoom(t,n){let i;const s=this.getCenterInternal(),o=this.getResolution();if(s!==void 0&&o!==void 0){const r=n[0]-t*(n[0]-s[0])/o,a=n[1]-t*(n[1]-s[1])/o;i=[r,a]}return i}getViewportSize_(t){const n=this.viewportSize_;if(t){const i=n[0],s=n[1];return[Math.abs(i*Math.cos(t))+Math.abs(s*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(s*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&Ce(t,this.getProjection())}getCenterInternal(){return this.get(E.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return Gi(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Y(n,"The view center is not defined");const i=this.getResolution();Y(i!==void 0,"The view resolution is not defined");const s=this.getRotation();return Y(s!==void 0,"The view rotation is not defined"),Hn(n,i,s,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(E.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(st(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const i=I(t)/n[0],s=W(t)/n[1];return Math.max(i,s)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/Math.log(t);return(function(o){return n/Math.pow(t,o*s)})}getRotation(){return this.get(E.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,o=Math.log(i/s)/n;return(function(r){return Math.log(i/r)/n/o})}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),i=this.getRotation();let s=this.getCenterInternal();const o=this.padding_;if(o){const r=this.getViewportSizeMinusPadding_();s=It(s,this.getViewportSize_(),[r[0]/2+o[3],r[1]/2+o[0]],n,i)}return{center:s.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,i,s;if(this.resolutions_){const o=Ge(this.resolutions_,t,1);n=o,i=this.resolutions_[o],o==this.resolutions_.length-1?s=2:s=i/this.resolutions_[o+1]}else i=this.maxResolution_,s=this.zoomFactor_;return n+Math.log(i/t)/Math.log(s)}getResolutionForZoom(t){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const n=T(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,T(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let i;if(Y(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){Y(!mt(t),"Cannot fit empty extent provided as `geometry`");const s=st(t,this.getProjection());i=Se(s)}else if(t.getType()==="Circle"){const s=st(t.getExtent(),this.getProjection());i=Se(s),i.rotate(this.getRotation(),K(s))}else i=t;this.fitInternal(i,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),i=Math.cos(n),s=Math.sin(-n),o=t.getFlatCoordinates(),r=t.getStride();let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let h=0,f=o.length;h<f;h+=r){const d=o[h]*i-o[h+1]*s,g=o[h]*s+o[h+1]*i;a=Math.min(a,d),l=Math.min(l,g),u=Math.max(u,d),c=Math.max(c,g)}return[a,l,u,c]}fitInternal(t,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const s=n.padding!==void 0?n.padding:[0,0,0,0],o=n.nearest!==void 0?n.nearest:!1;let r;n.minResolution!==void 0?r=n.minResolution:n.maxZoom!==void 0?r=this.getResolutionForZoom(n.maxZoom):r=0;const a=this.rotatedExtentForGeometry(t);let l=this.getResolutionForExtentInternal(a,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);l=isNaN(l)?r:Math.max(l,r),l=this.getConstrainedResolution(l,o?0:1);const u=this.getRotation(),c=Math.sin(u),h=Math.cos(u),f=K(a);f[0]+=(s[1]-s[3])/2*l,f[1]+=(s[0]-s[2])/2*l;const d=f[0]*h-f[1]*c,g=f[1]*h+f[0]*c,_=this.getConstrainedCenter([d,g],l),R=n.callback?n.callback:Pt;n.duration!==void 0?this.animateInternal({resolution:l,center:_,duration:n.duration,easing:n.easing},R):(this.targetResolution_=l,this.targetCenter_=_,this.applyTargetState_(!1,!0),ot(R,!0))}centerOn(t,n,i){this.centerOnInternal(b(t,this.getProjection()),n,i)}centerOnInternal(t,n,i){this.setCenterInternal(It(t,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,i,s){let o;const r=this.padding_;if(r&&t){const a=this.getViewportSizeMinusPadding_(-i),l=It(t,s,[a[0]/2+r[3],a[1]/2+r[0]],n,i);o=[t[0]-l[0],t[1]-l[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=Ce(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&b(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const i=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,s,i);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=b(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const i=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+t,i);n&&(this.targetCenter_=this.calculateCenterRotate(s,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&b(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const i=this.getAnimating()||this.getInteracting()||n,s=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(s),r=this.constraints_.resolution(this.targetResolution_,0,o,i),a=this.constraints_.center(this.targetCenter_,r,o,i,this.calculateCenterShift(this.targetCenter_,r,s,o));this.get(E.ROTATION)!==s&&this.set(E.ROTATION,s),this.get(E.RESOLUTION)!==r&&(this.set(E.RESOLUTION,r),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(E.CENTER)||!rt(this.get(E.CENTER),a))&&this.set(E.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,i){t=t!==void 0?t:200;const s=n||0,o=this.constraints_.rotation(this.targetRotation_),r=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,s,r),l=this.constraints_.center(this.targetCenter_,a,r,!1,this.calculateCenterShift(this.targetCenter_,a,o,r));if(t===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,this.applyTargetState_();return}i=i||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!rt(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:t,easing:ii,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(A.INTERACTING,1)}endInteraction(t,n,i){i=i&&b(i,this.getProjection()),this.endInteractionInternal(t,n,i)}endInteractionInternal(t,n,i){this.getInteracting()&&(this.setHint(A.INTERACTING,-1),this.resolveConstraints(t,n,i))}getConstrainedCenter(t,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),i)}getConstrainedZoom(t,n){const i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(t,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)}}function ot(e,t){setTimeout(function(){e(t)},0)}function _s(e){if(e.extent!==void 0){const n=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return ue(e.extent,e.constrainOnlyCenter,n)}const t=Ut(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,ue(n,!1,!1)}return Zn}function Rs(e){let t,n,i,r=e.minZoom!==void 0?e.minZoom:Tt,a=e.maxZoom!==void 0?e.maxZoom:28;const l=e.zoomFactor!==void 0?e.zoomFactor:2,u=e.multiWorld!==void 0?e.multiWorld:!1,c=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,h=e.showFullExtent!==void 0?e.showFullExtent:!1,f=Ut(e.projection,"EPSG:3857"),d=f.getExtent();let g=e.constrainOnlyCenter,_=e.extent;if(!u&&!_&&f.isGlobal()&&(g=!1,_=d),e.resolutions!==void 0){const R=e.resolutions;n=R[r],i=R[a]!==void 0?R[a]:R[R.length-1],e.constrainResolution?t=cs(R,c,!g&&_,h):t=Pe(n,i,c,!g&&_,h)}else{const p=(d?Math.max(I(d),W(d)):360*He.degrees/f.getMetersPerUnit())/gs/Math.pow(2,Tt),m=p/Math.pow(2,28-Tt);n=e.maxResolution,n!==void 0?r=0:n=p/Math.pow(l,r),i=e.minResolution,i===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?i=n/Math.pow(l,a):i=p/Math.pow(l,a):i=m),a=r+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-r),e.constrainResolution?t=us(l,n,i,c,!g&&_,h):t=Pe(n,i,c,!g&&_,h)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:l}}function ps(e){if(e.enableRotation!==void 0?e.enableRotation:!0){const n=e.constrainRotation;return n===void 0||n===!0?ds():n===!1?Ae:typeof n=="number"?fs(n):Ae}return hs}function ws(e){return!(e.sourceCenter&&e.targetCenter&&!rt(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function It(e,t,n,i,s){const o=Math.cos(-s);let r=Math.sin(-s),a=e[0]*o-e[1]*r,l=e[1]*o+e[0]*r;a+=(t[0]/2-n[0])*i,l+=(n[1]-t[1]/2)*i,r=-r;const u=a*o-l*r,c=l*o+a*r;return[u,c]}const Mo=pn("store",{state:()=>({yearFirst:"",layerFirst:"true_color",yearSecond:"",layerSecond:"true_color",twoPanelsView:!1,mapFirstLoading:!1,mapSecondLoading:!1,view:new ms({center:[3.8556840420292947e6,6034284499588168e-9],zoom:10,maxZoom:15,minZoom:5}),rasterLayers:[{id:"1",provider:"esri",name:"Topographic",url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}],years:["2021","2023","2024","2025"],types:[{name:"Water bodies",code:"water_bodies"},{name:"Vegetation",code:"ndvi"},{name:"True color",code:"true_color"}],styles:[{id:"water_bodies",style:{color:["case",[">",["band",1],0],["color",21,101,192,1],["color",0,0,0,0]]}},{id:"ndvi",style:{color:["case",["between",["band",1],.3,1],["interpolate",["linear"],["band",1],.3,"#90EE90",.5,"#228B22",.7,"#006400",1,"#004d00"],"rgba(0,0,0,0)"]}},{id:"true_color",style:{color:["array",["*",["band",1],1.9],["*",["band",2],1.9],["*",["band",3],1.9],["case",["<",["+",["+",["band",1],["band",2]],["band",3]],.01],0,1]]}}]}),getters:{copernicusLayers:e=>{const t=[];return e.years.forEach(n=>{e.types.forEach(i=>{const s={id:`${i.code}_${n}`,title:i.name,type:i.code,year:n,file:`${i.code}_${n}_cog.tif`};t.push(s)})}),t}},actions:{}}),Eo=Gt({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=P(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>J(e.tag,{class:n.value},Ne(t.default))}}),vs={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},St={xs:2,sm:4,md:8,lg:16,xl:24},To=Gt({name:"QSeparator",props:{...Fe,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=ut(),n=Le(e,t.proxy.$q),i=P(()=>e.vertical===!0?"vertical":"horizontal"),s=P(()=>` q-separator--${i.value}`),o=P(()=>e.inset!==!1?`${s.value}-${vs[e.inset]}`:""),r=P(()=>`q-separator${s.value}${o.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),a=P(()=>{const l={};if(e.size!==void 0&&(l[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const u=e.spaced===!0?`${St.md}px`:e.spaced in St?`${St[e.spaced]}px`:e.spaced,c=e.vertical===!0?["Left","Right"]:["Top","Bottom"];l[`margin${c[0]}`]=l[`margin${c[1]}`]=u}return l});return()=>J("hr",{class:r.value,style:a.value,"aria-orientation":i.value})}}),Io=Gt({name:"QCard",props:{...Fe,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=ut(),i=Le(e,n),s=P(()=>"q-card"+(i.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>J(e.tag,{class:s.value},Ne(t.default))}});export{Gn as $,Y as A,ze as B,$s as C,Ln as D,bn as E,ii as F,ro as G,Zs as H,Vs as I,so as J,ei as K,hs as L,Nn as M,T as N,C as O,ct as P,Eo as Q,An as R,jn as S,On as T,eo as U,Pt as V,ms as W,De as X,je as Y,xe as Z,oe as _,Fe as a,go as a$,zi as a0,vo as a1,oo as a2,I as a3,yo as a4,Xi as a5,Ce as a6,_o as a7,b as a8,A as a9,io as aA,ht as aB,Bn as aC,mo as aD,po as aE,Ro as aF,wo as aG,Us as aH,st as aI,Ys as aJ,gs as aK,dt as aL,Ge as aM,os as aN,Ds as aO,Ws as aP,S as aQ,He as aR,to as aS,Co as aT,ho as aU,gi as aV,Lt as aW,Ot as aX,Mt as aY,ve as aZ,uo as a_,Hn as aa,mt as ab,Ks as ac,gt as ad,Hs as ae,ri as af,ni as ag,Qs as ah,W as ai,ft as aj,qe as ak,qs as al,K as am,kn as an,fo as ao,co as ap,Bs as aq,ye as ar,xt as as,We as at,$e as au,Ve as av,Js as aw,ks as ax,ce as ay,Wn as az,Le as b,ao as b0,Vt as b1,no as b2,Gi as b3,lo as b4,Is as b5,js as b6,Ms as c,Ts as d,Xs as e,bs as f,As as g,Os as h,Ns as i,Ps as j,zs as k,Gs as l,Ls as m,Mn as n,Ss as o,En as p,xs as q,To as r,Fs as s,Io as t,Es as u,Mo as v,Xe as w,At as x,re as y,Oe as z};
